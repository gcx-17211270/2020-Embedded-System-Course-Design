# 2020 秋季 嵌入式课程设计大作业

`小组成员：高成鑫、孙天一`

## 设计任务：

使用本课程提供的STM32F746开发平台和配套电路模块设计并制作一个智能家居温度控制器，具有以下功能：
1. 测量并显示当前室内环境的温度和湿度。
2. 显示日期、时间。
3. 红外遥控功能，可以遥控本控制器开关机、调整空调温度、风速和工作模式。
4. 屏幕保护功能，可以以屏幕保护的形式显示存储在TF卡中的一组照片。
5. 可以通过USB接口修改TF卡中保存的照片。
6. 预约功能，可以预约定时开关机，预设温度开关机等功能。

### 1. 基础部分（必做，60分）
（1） 温度测量与显示（10分）
系统可以测量室内温度并在屏幕上显示。

（2） 日期、时间显示功能（10分）
在屏幕上显示当前日期、时间。

（3） 空调设置功能（10分）
系统可以通过触摸屏设置空调的温度、风速、工作模式，并在屏幕上显示当前的设置。温度可以在18~30℃之间调节，模式可配置为“制冷”、“制热”和“通风”，风速可配置为“高”、“中”、“低”三档。

（4） 空调控制功能（15分）
在功能2 的基础上增加空调变频控制功能，使用一个蓝色LED灯和一个红色LED灯表示空调制冷功率和制热功率和风速。LED灯的亮度表示变频压缩机转速，室内温度与设置温度温差越大，LED亮度越高，表示制冷/制热功率越大。
使用一个黄色LED灯表示风速，LED灯亮度越高表示风速越大。

（5） 红外遥控开关机功能（15分）
系统可以使用红外遥控器控制开启和关闭，按下遥控器开关可以切换系统是开关状态。

### 2. 提高部分（选做，60分）

（1） 温湿度测量功能（5分）
系统可以测量室内温度和湿度并在屏幕上显示。

（2） 全功能红外遥控（15分）
系统可以解码红外遥控器的输出，可以通过红外遥控器设置温度、风速和工作模式。

（3） 预约功能（10分）
预约定时开关机，系统可以在指定时间按预设模式开始工作。预设温度开关机，系统可以在室内温度超出指定范围时自动开始工作。

（4） 屏幕保护功能（10分）
可以显示一副图片作为屏保，触摸屏或红外无操作20秒后系统进入屏幕保护模式，屏幕显示存储在FLASH或TF卡中的一组照片。触摸屏或红外有操作时自动退出屏幕保护

（5） 可以通过USB修改屏幕保护图片（10分）
USB接口可以设置为大容量存储设备模式（Mass Storage Device），可以在PC机上通过USB修改FLASH或TF卡保存的屏幕保护图片。

（6） 网络控制功能（10分）
可以通过以太网实现远程控制，可以使用调试软件发数据包，网页配置、APP配置等方式，形式不限。

### 3. 注意事项

（1） 不允许使用除课程提供的开发板和模块之外的任何模块或电路。
（2） 红外遥控器统一使用宿舍空调遥控器，制作调试时注意防止相互干扰。
（3） 系统界面上应显示所有组员的姓名学号。
（4） 如使用TF卡保存图片数据，TF卡自备。
